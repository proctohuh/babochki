<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Бабочки и жуки Рязанской 3 области</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="overlay"></div>

    <!-- НАВИГАЦИЯ -->
    <header>
        <nav class="nav">
            <a href="index.html" class="home active" title="Главная"></a>
            <a href="dnevnie.html" title="Дневные"><img src="https://png.klev.club/uploads/posts/2024-04/png-klev-club-oyjh-p-belaya-babochka-png-11.png" alt=""></a>
            <a href="mikro.html" title="Микро"><img src="https://png.klev.club/uploads/posts/2024-05/png-klev-club-to2d-p-mol-png-3.png" alt=""></a>
            <a href="nochnye.html" title="Ночные"><img src="https://png.pngtree.com/png-clipart/20240811/original/pngtree-bagworm-moths-stealthy-cocoon-weaver-on-png-image_15750283.png" alt=""></a>
            <a href="gusenicy.html" title="Гусеницы"><img src="https://png.pngtree.com/png-clipart/20250507/original/pngtree-bright-green-caterpillar-with-detailed-body-segments-and-tiny-legs-png-image_20943875.png" alt=""></a>
            <a href="juki.html" title="Жуки"><img src="https://www.koppert.ru/content/_processed_/f/7/csm_Vine_weevil_Otiorhynchus_sulcatus_Adult_Koppert_4b9004cb49.png" alt=""></a>
            <a href="lojnogusenicy.html" title="Ложногусеницы"><img src="https://ltdfoto.ru/images/2025/11/12/e9a6ceae-4f5b-4476-ad9e-83ddc84fba16-1.png" alt=""></a>
            <a href="about.html" class="info" title="О сайте"></a>
            <div class="search-box"><input type="text" placeholder="Поиск..."></div>
        </nav>
    </header>

    <!-- ГЛАВНЫЙ КОНТЕНТ -->
    <main>
        <h1>БАБОЧКИ И ЖУКИ РЯЗАНСКОЙ ОБЛАСТИ</h1>
        <p>а также некоторые другие насекомые...</p>

        <div class="gallery">
            <div class="item">
                <a href="dnevnie.html">
                    <img src="https://png.klev.club/uploads/posts/2024-04/png-klev-club-oyjh-p-belaya-babochka-png-11.png" alt="Дневные бабочки">
                    <p>Дневные (булавоусые) бабочки.</p>
                </a>
            </div>
            <div class="item">
                <a href="mikro.html">
                    <img src="https://png.klev.club/uploads/posts/2024-05/png-klev-club-to2d-p-mol-png-3.png" alt="Микрочешуекрылые">
                    <p>Микрочешуекрылые.</p>
                </a>
            </div>
            <div class="item">
                <a href="nochnye.html">
                   <img src="https://allwebs.ru/images/2025/11/12/2f1d274eccab976ae6e118918a59fb9a.png" alt="Ночные бабочки">
                    <p>Ночные (разноусые) бабочки.</p>
                </a>
            </div>
            <div class="item">
                <a href="gusenicy.html">
                    <img src="https://png.klev.club/uploads/posts/2024-04/png-klev-club-ogxq-p-gusenitsa-png-18.png" alt="Гусеницы">
                    <p>Гусеницы бабочек.</p>
                </a>
            </div>
            <div class="item">
                <a href="juki.html">
                    <img src="https://www.koppert.ru/content/_processed_/f/7/csm_Vine_weevil_Otiorhynchus_sulcatus_Adult_Koppert_4b9004cb49.png" alt="Жуки">
                    <p>Жуки.</p>
                </a>
            </div>
            <div class="item">
                <a href="lojnogusenicy.html">
                    <img src="https://ltdfoto.ru/images/2025/11/12/e9a6ceae-4f5b-4476-ad9e-83ddc84fba16-1.png" alt="Ложногусеницы">
                    <p>Ложногусеницы пилильщиков.</p>
                </a>
            </div>
        </div>
    </main>

    <script>
        // Подсветка активной страницы
        const current = location.pathname.split('/').pop() || 'index.html';
        document.querySelectorAll('.nav a').forEach(a => a.classList.remove('active'));
        const activeLink = document.querySelector(`.nav a[href="${current}"]`);
        if (activeLink) activeLink.classList.add('active');
    </script>
    <!-- Модальное окно поиска -->
<div id="search-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:1000; overflow-y:auto;">
    <div style="max-width:800px; margin:40px auto; padding:20px; background:#113; border:2px solid #00f; border-radius:12px; color:#0f0;">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
            <h2 style="margin:0; color:#0ff; text-shadow:0 0 8px #0ff;">Результаты поиска</h2>
            <button onclick="closeSearch()" style="background:#f00; color:#fff; border:none; padding:8px 12px; border-radius:6px; cursor:pointer;">✕</button>
        </div>
        <div id="search-results"></div>
        <p id="no-results" style="display:none; text-align:center; color:#aaa; margin-top:20px;">Ничего не найдено.</p>
    </div>
</div>

<script>
    // Открытие/закрытие модалки
    function openSearch() {
        document.getElementById('search-modal').style.display = 'block';
    }
    function closeSearch() {
        document.getElementById('search-modal').style.display = 'none';
        document.querySelector('.search-box input').value = '';
    }

    // Поиск
    document.querySelector('.search-box input').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            const query = this.value.trim().toLowerCase();
            if (!query) return;

            fetch('search-data.json')
                .then(res => res.json())
                .then(data => {
                    const results = data.filter(item => 
                        item.name.toLowerCase().includes(query)
                    );

                    const resultsDiv = document.getElementById('search-results');
                    const noResults = document.getElementById('no-results');

                    if (results.length === 0) {
                        noResults.style.display = 'block';
                        resultsDiv.innerHTML = '';
                    } else {
                        noResults.style.display = 'none';
                        resultsDiv.innerHTML = results.map(r => `
                            <a href="${r.url}" style="display:block; padding:12px; margin:8px 0; background:rgba(0,255,255,0.1); border:1px solid #0ff; border-radius:8px; color:#0ff; text-decoration:none; transition:0.2s;"
                               onmouseover="this.style.background='rgba(0,255,255,0.2)'"
                               onmouseout="this.style.background='rgba(0,255,255,0.1)'">
                                <strong>${r.name}</strong>
                            </a>
                        `).join('');
                    }

                    openSearch();
                })
                .catch(err => {
                    alert('Ошибка загрузки данных поиска');
                    console.error(err);
                });
        }
    });

    // Закрытие по клику вне окна
    document.getElementById('search-modal').addEventListener('click', function(e) {
        if (e.target === this) closeSearch();
    });
</script>
</body>
</html>
